<Wix
	xmlns="http://schemas.microsoft.com/wix/2006/wi">
	<Product
    Id="*"
    Name="Polygon"
    Version="0.1.0"
    Manufacturer="thesobercoder"
    UpgradeCode="fc6d3e57-0b38-4e0b-bed7-2ee9466f4791"
    Language="1033"
  >
		<Package InstallerVersion="200" Compressed="yes" InstallScope="perUser" />
		<MediaTemplate EmbedCab="yes" />
		<Directory Id="TARGETDIR" Name="SourceDir">
      <Directory Id="ProgramFilesFolder">
          <Directory Id="INSTALLFOLDER" Name="Polygon" />
      </Directory>
      <Directory Id="ProgramMenuFolder">
          <Directory Id="StartupFolder" Name="Startup" />
      </Directory>
    </Directory>
		<Feature Id="ProductFeature" Title="Polygon" Level="1">
			<ComponentGroupRef Id="ProductComponents" />
			<ComponentGroupRef Id="UninstallComponents" />
		</Feature>
		<DirectoryRef Id="INSTALLFOLDER">
      <Component
        Id="PolygonExecutable32"
        Guid="c9487e13-6c35-4ca1-86d8-73726776a98e"
      >
        <File
          Id="PolygonExe32"
          Source=".\build\polygon-x86.exe"
          Name="Polygon32.exe"
          KeyPath="yes"
          Checksum="yes"
        />
        <Condition>
          <![CDATA[NOT VersionNT64]]>
        </Condition>
      </Component>
      <Component
        Id="PolygonRegistry32"
        Guid="ecb2a543-06a8-4f39-af16-6cb9906cb582"
      >
        <RegistryValue
          Root="HKCU"
          Key="Software\Polygon\Polygon"
          Name="installed"
          Type="integer"
          Value="1"
          KeyPath="yes"
        />
        <Condition>
          <![CDATA[NOT VersionNT64]]>
        </Condition>
      </Component>
      <Component
        Id="PolygonExecutable64"
        Guid="970e70f6-b5f1-4119-a2c4-b7fd8d363a99"
      >
        <File
          Id="PolygonExe64"
          Source=".\build\polygon-x64.exe"
          Name="Polygon64.exe"
          KeyPath="yes"
          Checksum="yes"
        />
        <Condition>
          <![CDATA[VersionNT64]]>
        </Condition>
      </Component>
      <Component
        Id="PolygonRegistry64"
        Guid="3a5253da-a812-4bb9-9e9a-fa027fe7c8f1"
      >
        <RegistryValue
          Root="HKCU"
          Key="Software\Polygon\Polygon"
          Name="installed"
          Type="integer"
          Value="1"
          KeyPath="yes"
        />
        <Condition>
          <![CDATA[VersionNT64]]>
        </Condition>
      </Component>
    </DirectoryRef>
		<ComponentGroup Id="ProductComponents" Directory="INSTALLFOLDER">
			<ComponentRef Id="PolygonExecutable32" />
      <ComponentRef Id="PolygonRegistry32" />
      <ComponentRef Id="PolygonExecutable64" />
      <ComponentRef Id="PolygonRegistry64" />
		</ComponentGroup>
    <ComponentGroup Id="UninstallComponents" Directory="INSTALLFOLDER">
      <Component Id="RemoveFolderComponent" Guid="af9d0fb9-a05b-42ca-a5b0-6bf7e47de6d5">
        <RemoveFolder Id="INSTALLFOLDER" On="uninstall"/>
        <RegistryValue
          Root="HKCU"
          Key="Software\Polygon\Polygon"
          Name="installed"
          Type="string"
          Value="0"
          KeyPath="yes"
        />
      </Component>
    </ComponentGroup>
		<Icon Id="icon.ico" SourceFile=".\polygon.ico" />
		<Property Id="ARPPRODUCTICON" Value="icon.ico" />
	</Product>
</Wix>
